<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Social Media News - Aktuelle Trends und virale Themen">
    <title>Social Media News</title>
    <style>
        /* Allgemeines Styling für Dark Mode */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
        }

        /* Header Styling */
        header {
            background-color: #1f1f1f;
            color: #fff;
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        header h1 {
            margin: 0;
            font-size: 36px;
            letter-spacing: 1px;
        }

        /* Navigation Styling */
        nav {
            background-color: #333;
            padding: 10px 0;
            text-align: center;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 20px;
            font-size: 16px;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #1abc9c;
        }

        /* Main Content Styling */
        main {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .news-item {
            background-color: #1e1e1e;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }

        .news-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
        }

        .news-item h3 {
            margin-top: 0;
            font-size: 26px;
            color: #ecf0f1;
        }

        .news-item p {
            font-size: 16px;
            line-height: 1.6;
            color: #bdc3c7;
        }

        /* Kommentarbereich */
        .comment-section {
            margin-top: 30px;
            border-top: 1px solid #444;
            padding-top: 20px;
        }

        .comment-section h4 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #ecf0f1;
        }

        .comment-section input,
        .comment-section textarea {
            background-color: #333;
            border: 1px solid #444;
            color: #fff;
            padding: 10px;
            width: 100%;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 16px;
        }

        .comment-section button {
            background-color: #1abc9c;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 14px;
        }

        .comment-section button:hover {
            background-color: #16a085;
        }

        .comments-list {
            margin-top: 20px;
        }

        .comment {
            background-color: #333;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .comment .author {
            font-weight: bold;
            color: #1abc9c;
        }

        .comment .content {
            color: #bdc3c7;
        }

        /* Footer Styling */
        footer {
            background-color: #1f1f1f;
            color: #fff;
            text-align: center;
            padding: 15px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            nav a {
                margin: 0 10px;
            }

            .news-item {
                padding: 15px;
            }

            header h1 {
                font-size: 30px;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <h1>Social Media News</h1>
    </header>

    <!-- Navigation -->
    <nav>
        <a href="#">Home</a>
        <a href="#">Trends</a>
        <a href="#">Top Posts</a>
    </nav>

    <!-- Main Content -->
    <main>
        <div class="news-item" id="post-1">
            <h3>Viral auf Twitter: #TechNews</h3>
            <p>Ein neuer Hashtag auf Twitter verbreitet sich schnell. Alle sprechen über die neueste Technologie, die das Internet revolutionieren soll. Es gibt schon viele Diskussionen darüber, wie sich diese Technologie auf die Gesellschaft auswirken wird...</p>
            <div class="social-share">
                <button>Teilen auf Twitter</button>
                <button>Teilen auf Facebook</button>
            </div>

            <!-- Kommentarbereich -->
            <div class="comment-section">
                <h4>Kommentar hinzufügen</h4>
                <input type="text" id="author-1" placeholder="Dein Name">
                <textarea id="comment-1" rows="4" placeholder="Schreib einen Kommentar..."></textarea>
                <button onclick="addComment(1)">Kommentar absenden</button>

                <div class="comments-list" id="comments-list-1">
                    <!-- Kommentare werden hier dynamisch hinzugefügt -->
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Social Media News | Alle Rechte vorbehalten.</p>
    </footer>

    <script>
        // Funktion zum Hinzufügen eines Kommentars
        function addComment(postId) {
            const author = document.getElementById('author-' + postId).value;
            const commentText = document.getElementById('comment-' + postId).value;

            if (!author || !commentText) {
                alert("Bitte gib sowohl deinen Namen als auch deinen Kommentar ein.");
                return;
            }

            // Kommentar an den Server senden
            fetch('http://localhost:3000/comments', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ postId: postId, author: author, content: commentText })
            })
            .then(response => response.json())
            .then(data => {
                displayComments(postId); // Kommentare neu laden
            })
            .catch(error => console.error('Fehler:', error));
        }

        // Funktion zum Anzeigen der Kommentare
        function displayComments(postId) {
            const commentsList = document.getElementById('comments-list-' + postId);
            commentsList.innerHTML = ''; // Leeren, bevor neue Kommentare angezeigt werden

            fetch('http://localhost:3000/comments/' + postId)
            .then(response => response.json())
            .then(comments => {
                comments.forEach(comment => {
                    const commentContainer = document.createElement('div');
                    commentContainer.classList.add('comment');

                    const authorElement = document.createElement('div');
                    authorElement.classList.add('author');
                    authorElement.textContent = comment.author;

                    const contentElement = document.createElement('div');
                    contentElement.classList.add('content');
                    contentElement.textContent = comment.content;

                    // Kommentar hinzufügen
                    commentContainer.appendChild(authorElement);
                    commentContainer.appendChild(contentElement);

                    commentsList.appendChild(commentContainer);
                });
            })
            .catch(error => console.error('Fehler beim Laden der Kommentare:', error));
        }

        // Beim Laden der Seite gespeicherte Kommentare anzeigen
        window.onload = function() {
            displayComments(1); // Hier Post-ID 1, für andere Artikel entsprechend anpassen
        }
    </script>

</body>
</html>
